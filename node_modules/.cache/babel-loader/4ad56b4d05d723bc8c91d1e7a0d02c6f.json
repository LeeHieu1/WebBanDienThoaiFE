{"ast":null,"code":"var _jsxFileName = \"E:\\\\Study\\\\Cong_Nghe_Phan_Mem_Moi\\\\Project_mau\\\\React-Js-Ecommerce-with-Laravel-8-main\\\\src\\\\components\\\\frontend\\\\collections\\\\ViewProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport { Link, useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ViewProduct(props) {\n  _s();\n\n  const history = useHistory();\n  const [loading, setLoading] = useState(true);\n  const [product, setProduct] = useState([]);\n  const [category, setCategory] = useState([]);\n  const productCount = product.length;\n  useEffect(() => {\n    let isMounted = true;\n    const product_slug = props.match.params.slug;\n    axios.get(`/api/fetchproducts/${product_slug}`).then(res => {\n      if (isMounted) {\n        if (res.data.status === 200) {\n          setProduct(res.data.product_data.product);\n          setCategory(res.data.product_data.category);\n          setLoading(false);\n        } else if (res.data.status === 400) {\n          swal(\"Warning\", res.data.message, \"\");\n        } else if (res.data.status === 404) {\n          history.push('/collections');\n          swal(\"Warning\", res.data.message, \"error\");\n        }\n      }\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, [props.match.params.slug, history]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Loading Products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  } else {\n    var showProductList = '';\n\n    if (productCount) {\n      showProductList = product.map((item, idx) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/collections/${item.category.slug}/${item.slug}`,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:8000/${item.image}`,\n                className: \"w-100\",\n                alt: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/collections/${item.category.slug}/${item.slug}`,\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this);\n      });\n    } else {\n      showProductList = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"No Product Available for \", category.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-3 bg-warning\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: [\"Collections / \", category.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: showProductList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ViewProduct, \"jp4Esx7vF04esxukOLP4PNtabOs=\", false, function () {\n  return [useHistory];\n});\n\n_c = ViewProduct;\nexport default ViewProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewProduct\");","map":{"version":3,"sources":["E:/Study/Cong_Nghe_Phan_Mem_Moi/Project_mau/React-Js-Ecommerce-with-Laravel-8-main/src/components/frontend/collections/ViewProduct.js"],"names":["React","useEffect","useState","axios","swal","Link","useHistory","ViewProduct","props","history","loading","setLoading","product","setProduct","category","setCategory","productCount","length","isMounted","product_slug","match","params","slug","get","then","res","data","status","product_data","message","push","showProductList","map","item","idx","image","name"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport { Link, useHistory } from 'react-router-dom';\n\nfunction ViewProduct(props)\n{\n    const history = useHistory();\n    const [loading, setLoading] = useState(true);\n    const [product, setProduct] = useState([]);\n    const [category, setCategory] = useState([]);\n\n    const productCount = product.length;\n\n    useEffect(() => {\n\n        let isMounted = true;\n\n        const product_slug = props.match.params.slug;\n        axios.get(`/api/fetchproducts/${product_slug}`).then(res=>{\n            if(isMounted)\n            {\n                if(res.data.status === 200)\n                {\n                    setProduct(res.data.product_data.product);\n                    setCategory(res.data.product_data.category);\n                    setLoading(false);\n                }\n                else if(res.data.status === 400)\n                {\n                    swal(\"Warning\",res.data.message,\"\");\n                }\n                else if(res.data.status === 404)\n                {\n                    history.push('/collections');\n                    swal(\"Warning\",res.data.message,\"error\");\n                }\n            }\n        });\n\n        return () => {\n            isMounted = false\n        };\n    }, [props.match.params.slug, history]);\n\n\n    if(loading)\n    {\n        return <h4>Loading Products...</h4>\n    }\n    else\n    {\n        var showProductList = '';\n        if(productCount)\n        {\n\n            showProductList = product.map( (item, idx) => {\n                return (\n                    <div className=\"col-md-3\" key={idx}>\n                        <div className=\"card\">\n                            <Link to={`/collections/${item.category.slug}/${item.slug}`}>\n                                <img src={`http://localhost:8000/${item.image}`} className=\"w-100\" alt={item.name} />\n                            </Link>\n                            <div className=\"card-body\">\n                                <Link to={`/collections/${item.category.slug}/${item.slug}`}>\n                                    <h5>{ item.name }</h5>\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                )\n            });\n        }\n        else\n        {\n            showProductList = \n            <div className=\"col-md-12\">\n                <h4>No Product Available for {category.name}</h4>\n            </div>\n        }\n    }\n\n    return (\n        <div>\n            <div className=\"py-3 bg-warning\">\n               <div className=\"container\">\n                <h6>Collections / {category.name}</h6>\n               </div>\n            </div>\n\n            <div className=\"py-3\">\n               <div className=\"container\">\n                   <div className=\"row\">\n                       {showProductList}\n                   </div>\n               </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ViewProduct;\n"]},"metadata":{},"sourceType":"module"}