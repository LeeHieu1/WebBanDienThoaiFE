{"ast":null,"code":"var _jsxFileName = \"E:\\\\Study\\\\Cong_Nghe_Phan_Mem_Moi\\\\FrontEnd\\\\website-ban-sach\\\\src\\\\components\\\\admin\\\\category\\\\ViewCategory.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ViewCategory() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [categorylist, setCategorylist] = useState([]);\n  useEffect(() => {\n    let isMounted = true;\n    axios.get(`/api/category`).then(res => {\n      if (isMounted) {\n        if (res.status === 200) {\n          setCategorylist(res.data.datas);\n          setLoading(false);\n        }\n      }\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  // const deleteCategory = (e, id) => {\n  //     e.preventDefault();\n\n  //     const thisClicked = e.currentTarget;\n  //     thisClicked.innerText = \"Deleting\";\n\n  //     axios.delete(`/api/delete-category/${id}`).then(res=>{\n  //         if(res.data.status === 200)\n  //         {\n  //             swal(\"Success\",res.data.message,\"success\");\n  //             thisClicked.closest(\"tr\").remove();\n  //         }\n  //         else if(res.data.status === 404)\n  //         {\n  //             swal(\"Success\",res.data.message,\"success\");\n  //             thisClicked.innerText = \"Delete\";\n  //         }\n  //     });\n\n  // }\n\n  var viewcategory_HTMLTABLE = \"\";\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Loading Category...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 16\n    }, this);\n  } else {\n    viewcategory_HTMLTABLE = categorylist.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `edit-category/${item.id}`,\n            className: \"btn btn-success btn-sm\",\n            children: \"S\\u1EEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Th\\u1EC3 lo\\u1EA1i\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/add-category\",\n            className: \"btn btn-primary btn-sm float-end\",\n            children: \"Th\\xEAm th\\u1EC3 lo\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-bordered table-striped\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: viewcategory_HTMLTABLE\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n_s(ViewCategory, \"RsoQS+4nlYcPviUVrBVeLp2n8H8=\");\n_c = ViewCategory;\nexport default ViewCategory;\nvar _c;\n$RefreshReg$(_c, \"ViewCategory\");","map":{"version":3,"names":["React","useState","useEffect","Link","axios","ViewCategory","loading","setLoading","categorylist","setCategorylist","isMounted","get","then","res","status","data","datas","viewcategory_HTMLTABLE","map","item","id","name"],"sources":["E:/Study/Cong_Nghe_Phan_Mem_Moi/FrontEnd/website-ban-sach/src/components/admin/category/ViewCategory.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\nfunction ViewCategory() {\n\n    const [loading, setLoading] = useState(true);\n    const [categorylist, setCategorylist] = useState([]);\n\n    useEffect(() => {\n        let isMounted = true;\n\n        axios.get(`/api/category`).then(res=>{\n            if(isMounted)\n            {\n                if(res.status === 200)\n                {\n                    setCategorylist(res.data.datas)\n                    setLoading(false);\n                }\n            }\n        });\n\n        return () => {\n            isMounted = false\n        };\n\n    }, []);\n\n    // const deleteCategory = (e, id) => {\n    //     e.preventDefault();\n        \n    //     const thisClicked = e.currentTarget;\n    //     thisClicked.innerText = \"Deleting\";\n\n    //     axios.delete(`/api/delete-category/${id}`).then(res=>{\n    //         if(res.data.status === 200)\n    //         {\n    //             swal(\"Success\",res.data.message,\"success\");\n    //             thisClicked.closest(\"tr\").remove();\n    //         }\n    //         else if(res.data.status === 404)\n    //         {\n    //             swal(\"Success\",res.data.message,\"success\");\n    //             thisClicked.innerText = \"Delete\";\n    //         }\n    //     });\n\n    // }\n\n    var viewcategory_HTMLTABLE = \"\";\n    if(loading)\n    {\n        return <h4>Loading Category...</h4>\n    }\n    else\n    {\n        viewcategory_HTMLTABLE = \n        categorylist.map( (item) => {\n            return (\n                <tr key={item.id}>\n                    <td>{item.id}</td>\n                    <td>{item.name}</td>\n                    <td>\n                        <Link to={`edit-category/${item.id}`} className=\"btn btn-success btn-sm\">Sửa</Link>\n                    </td>\n                    {/* <td>\n                        <button type=\"button\" onClick={ (e) => deleteCategory(e, item.id) } className=\"btn btn-danger btn-sm\">Xóa</button>\n                    </td> */}\n                </tr>\n            )\n        });\n    }\n\n    return  (\n        <div className=\"container px-4\">\n            <div className=\"card mt-4\">\n                <div className=\"card-header\">\n                    <h4>Thể loại \n                        <Link to=\"/admin/add-category\" className=\"btn btn-primary btn-sm float-end\">Thêm thể loại</Link>\n                    </h4>\n                </div>\n                <div className=\"card-body\">\n                    <table className=\"table table-bordered table-striped\">\n                        <thead>\n                            <tr>\n                                <th>ID</th>\n                                <th>Name</th>\n                                <th>Edit</th>\n                                {/* <th>Delete</th> */}\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {viewcategory_HTMLTABLE}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ViewCategory;\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,SAAQC,IAAI,QAAO,kBAAkB;AACrC,OAAOC,KAAK,MAAM,OAAO;AAAC;AAE1B,SAASC,YAAY,GAAG;EAAA;EAEpB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACO,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAEpDC,SAAS,CAAC,MAAM;IACZ,IAAIQ,SAAS,GAAG,IAAI;IAEpBN,KAAK,CAACO,GAAG,CAAE,eAAc,CAAC,CAACC,IAAI,CAACC,GAAG,IAAE;MACjC,IAAGH,SAAS,EACZ;QACI,IAAGG,GAAG,CAACC,MAAM,KAAK,GAAG,EACrB;UACIL,eAAe,CAACI,GAAG,CAACE,IAAI,CAACC,KAAK,CAAC;UAC/BT,UAAU,CAAC,KAAK,CAAC;QACrB;MACJ;IACJ,CAAC,CAAC;IAEF,OAAO,MAAM;MACTG,SAAS,GAAG,KAAK;IACrB,CAAC;EAEL,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;;EAEA,IAAIO,sBAAsB,GAAG,EAAE;EAC/B,IAAGX,OAAO,EACV;IACI,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA4B;EACvC,CAAC,MAED;IACIW,sBAAsB,GACtBT,YAAY,CAACU,GAAG,CAAGC,IAAI,IAAK;MACxB,oBACI;QAAA,wBACI;UAAA,UAAKA,IAAI,CAACC;QAAE;UAAA;UAAA;UAAA;QAAA,QAAM,eAClB;UAAA,UAAKD,IAAI,CAACE;QAAI;UAAA;UAAA;UAAA;QAAA,QAAM,eACpB;UAAA,uBACI,QAAC,IAAI;YAAC,EAAE,EAAG,iBAAgBF,IAAI,CAACC,EAAG,EAAE;YAAC,SAAS,EAAC,wBAAwB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAW;UAAA;UAAA;UAAA;QAAA,QAClF;MAAA,GALAD,IAAI,CAACC,EAAE;QAAA;QAAA;QAAA;MAAA,QASX;IAEb,CAAC,CAAC;EACN;EAEA,oBACI;IAAK,SAAS,EAAC,gBAAgB;IAAA,uBAC3B;MAAK,SAAS,EAAC,WAAW;MAAA,wBACtB;QAAK,SAAS,EAAC,aAAa;QAAA,uBACxB;UAAA,8CACI,QAAC,IAAI;YAAC,EAAE,EAAC,qBAAqB;YAAC,SAAS,EAAC,kCAAkC;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAqB;QAAA;UAAA;UAAA;UAAA;QAAA;MAC/F;QAAA;QAAA;QAAA;MAAA,QACH,eACN;QAAK,SAAS,EAAC,WAAW;QAAA,uBACtB;UAAO,SAAS,EAAC,oCAAoC;UAAA,wBACjD;YAAA,uBACI;cAAA,wBACI;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAW,eACX;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAa,eACb;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAa;YAAA;cAAA;cAAA;cAAA;YAAA;UAEZ;YAAA;YAAA;YAAA;UAAA,QACD,eACR;YAAA,UACKH;UAAsB;YAAA;YAAA;YAAA;UAAA,QACnB;QAAA;UAAA;UAAA;UAAA;QAAA;MACJ;QAAA;QAAA;QAAA;MAAA,QACN;IAAA;MAAA;MAAA;MAAA;IAAA;EACJ;IAAA;IAAA;IAAA;EAAA,QACJ;AAEd;AAAC,GAhGQZ,YAAY;AAAA,KAAZA,YAAY;AAkGrB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module"}